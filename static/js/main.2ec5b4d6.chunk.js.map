{"version":3,"sources":["components/SearchBar/SearchBar.js","components/Fetch/Fetch.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["SearchBar","state","searchInput","searchResult","getSubmitValue","e","preventDefault","props","submit","setState","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","target","value","Component","instance","axios","create","baseURL","createParams","params","getPosts","a","page","per_page","q","get","ImageGallery","data","img","galleryList","ref","map","src","webformatURL","alt","tags","onClick","largeImageURL","id","Button","clicker","Modal","closeModals","code","modalSwitch","backDropClose","currentTarget","window","addEventListener","removeEventListener","largeImage","Loader","color","height","width","timeout","App","searchQuerry","loading","modal","createRef","loadMore","prevState","querry","modalOpen","_","snapshot","prevResult","prevPage","then","hits","setTimeout","scrollTo","top","behavior","prevProps","length","current","scrollHeight","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ec5b4d6.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\n\r\nexport default class SearchBar extends Component {\r\n\r\n    state = {\r\n      searchInput:\"\",\r\n      searchResult:[],\r\n    }\r\n\r\n    getSubmitValue = (e) => {\r\n      e.preventDefault();\r\n      this.props.submit(this.state.searchInput)\r\n      this.setState({searchInput:\"\"})\r\n     \r\n    }\r\n\r\n      render () {\r\n        return(\r\n            <>\r\n\r\n            <header className=\"Searchbar\">\r\n            <form className=\"SearchForm\"\r\n                onSubmit={this.getSubmitValue\r\n                }\r\n            >\r\n              <button type=\"submit\" className=\"SearchForm-button\">\r\n                <span className=\"SearchForm-button-label\">Search</span>\r\n              </button>\r\n                  <input\r\n                  className=\"SearchForm-input\"\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  autoFocus\r\n                  placeholder=\"Search images and photos\"\r\n                  onChange={(e)=>{return this.setState({searchInput:e.target.value})}}\r\n                  value={this.state.searchInput}\r\n                  />\r\n              \r\n            </form>\r\n            </header>\r\n            </>\r\n        )}\r\n          \r\n\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://pixabay.com/api/\",\r\n    \r\n});\r\n\r\nconst createParams = (params) => {\r\n    return {\r\n        params\r\n    }\r\n};\r\n\r\nconst  getPosts = async(page = 1, per_page = 3, q = \"cat\" )=> {\r\n    return instance.get(\"?key=23372923-aa63da10459dab2a89fc14fe7\", createParams({q, per_page, page}));\r\n}\r\nexport default getPosts","import React from 'react'\r\n\r\nconst ImageGallery = ({data, img, galleryList}) => {   \r\n            return (\r\n                <div>\r\n                    <ul className=\"ImageGallery\" ref={galleryList}>\r\n                    {data.map(e=>{return <li className=\"ImageGalleryItem\" key={e.id} >\r\n                    <img src={e.webformatURL} alt={e.tags} className=\"ImageGalleryItem-image\" onClick={()=>img(e.largeImageURL)}/>\r\n                     </li>})}\r\n                    </ul>\r\n                </div>\r\n            )\r\n            }  \r\n\r\n\r\nexport default ImageGallery","import React from 'react'\r\n\r\nconst Button = ({clicker}) => {\r\nreturn (\r\n    <button onClick={clicker} className=\"Button\">load more</button>\r\n)\r\n}\r\n\r\nexport default Button","import React, { Component } from 'react'\r\n\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown',this.closeModals)\r\n     }\r\n     \r\n    closeModals = (e) => {\r\n           if (e.code === \"Escape\") {\r\n              this.props.modalSwitch();\r\n            }\r\n        \r\n        }\r\n        \r\n    backDropClose = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n           this.props.modalSwitch();\r\n        }\r\n        \r\n     }\r\n     componentWillUnmount() {\r\n          window.removeEventListener('keydown',this.closeModals)\r\n     }\r\n     render(){\r\n    return (\r\n        <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n            <img src={this.props.largeImage} alt={this.props.largeImage} onClick={()=>this.props.modalSwitch()}  />\r\n        </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\n","import React from 'react'\r\nimport Loaders from \"react-loader-spinner\";\r\n\r\nconst Loader = () => {\r\n    return    <Loaders type=\"Puff\"\r\n    color=\"#00BFFF\"\r\n    height={100}\r\n    width={100}\r\n    timeout={3000} //3 secs\r\n    />\r\n}\r\n\r\nexport default Loader","import React, { Component , createRef} from 'react'\nimport SearchBar from \"./components/SearchBar\";\nimport getPosts from \"./components/Fetch/Fetch\"\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\n\nexport default class App extends Component {\n\n  state = {\n    searchQuerry:\"\",\n    searchResult: [],\n    page:1,\n    loading:false,\n    modal:false,\n    largeImage:\"\",\n  }\n  galleryList = createRef()\n  componentDidUpdate(_, prevState, snapshot) {\n    \n    const searchQuerry = this.state.searchQuerry\n    const prevResult = prevState.searchQuerry\n    const page = this.state.page\n    const prevPage = prevState.page\n    if (searchQuerry !== prevResult){ this.setState({page:1,searchResult:[]})}\n    if (searchQuerry !== prevResult || page !== prevPage) {\n    this.setState({loading:true})\n    getPosts(page,12,searchQuerry).then(data=>(data.data.hits)).then(data=>setTimeout(() => {this.setState((prevState)=>{return{searchResult:[...prevState.searchResult,...data],loading:false}})}, 1000))\n    \n     } \n\n     if(snapshot){\n         window.scrollTo({\n             top: snapshot,\n             behavior: \"smooth\"\n         });\n     }    \n    }\n  loadMore = () => {\n    \n    this.setState((prevState)=>{return {page:prevState.page +1}})\n  }\n\n  searchQuerry = (querry) => {\n    this.setState({searchQuerry:querry})\n  }\n  modalOpen = (img) => {\n    this.setState({largeImage:img})\n    this.setState({modal:true})\n  }\n  modalSwitch = () => {\n    this.setState({modal:false})\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState){\n    if(prevState.searchResult.length < this.state.searchResult.length) {\n        // const current = document.getElementById(\"post-searchResult\")\n        // return current.scrollHeight\n        const {current} = this.galleryList;\n        return current.scrollHeight;\n    }\n    return null;\n}\n\n\n\n\n  render() {\n    const {largeImage,searchResult,searchQuerry,loading,modal} = this.state\n    return (\n      <div>\n        <SearchBar submit={this.searchQuerry}/>\n        <ImageGallery data={searchResult} img={this.modalOpen} galleryList={this.galleryList}/>\n        {searchQuerry && <Button clicker={this.loadMore}/>}\n        {loading && <Loader/>}\n        {modal && <Modal largeImage={largeImage} modalSwitch={this.modalSwitch}/>}\n      </div>\n    )\n  }\n}\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}